mydatatest$Difference <- mydata1900[mydata1900$Age==mydatatest$Age,'Total']
View(mydatatest)
mydatatest$Difference <- mydata1900[mydata1900$Age==mydatatest$Age,'Total']-mydata1990[mydata1990$Age==mydatatest$Age,'Total']
View(mydatatest)
View(mydata1900)
View(mydata1990)
View(mydatatest)
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="Nombre de morts",
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="Nombre de morts",
col = rgb(24, 148, 0)
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="Nombre de morts",
col = rgb(24, 148, 0),
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="Nombre de morts",
col = rgb(0.24, 0.148, 0),
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="green",
col = rgb(0.24, 0.148, 0),
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="red",
col = "green",
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="Morts",
col = "green",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990")
# EXERCICE 1
#2.Charger la base dans RStudio et la memoriser dans la variable ´ mydata
mydata <- read.csv('data/deaths-france-1899-1995.csv',TRUE,sep = ";")
#4.Calculer le nombre total de morts enregistres dans la base.
totalDeath <- sum(mydata$Total)
#5. Calculez le nombre total de morts en 1900.
totalDeath_in_1900 <- sum(mydata[mydata$Year == '1900', 'Total'])
# 6. Calculez la moyenne d’age des morts en 1900, 1943, 1960, 1980 et 1990.
# 7. Modifiez votre programme de maniere à que les espérances affichées soient
# arrondies à deux décimales après la virgule et changez le point ( point décimal
# en notation anglaise) avec une virgule ( point décimal en français )
# On veut regrouper la colonne Age1 et Age2 et se débarraser des "na"
# On enlève les na de mydata et on les remplace par 0
mydata[is.na(mydata)] <- 0
# On multiplie ensuite age1 par 10 et on y ajoute Age2 pour avoir l'age
# ex : Age1 = 4 et Age2 = 3  => 4x10+3 = 43
# on affiche ce résultat dans une nouvelle colonne Age
mydata$Age <- mydata$Age1*10+mydata$Age2
# on retire ensuite les colonnes Age1 et Age2
mydata = subset(mydata,select = -c(Age1,Age2))
# Calcul des moyenne d'âge des morts pour les années 1900, 1943, 1960, 1980, 1990
# On utilise mydata pour créer des nouvelles dataframe avec seulement les résultats
# des années correspondantes et on calcule ensuite la moyenne pour chaque année
#Année1900
mydata1900 <- subset(mydata, Year == 1900)
deathMean1900 <- sum(mydata1900$Total*mydata1900$Age)/totalDeath_in_1900
deathMean1900 <- round(deathMean1900, digits=2)
deathMean1900 <- format(deathMean1900, decimal.mark = ',')
#Année1943
mydata1943 <- subset(mydata, Year == 1943)
deathMean1943 <- sum(mydata1943$Total*mydata1943$Age)/sum(mydata1943$Total)
deathMean1943 <- round(deathMean1943, digits=2)
deathMean1943 <- format(deathMean1943, decimal.mark = ',')
#Année1960
mydata1960 <- subset(mydata, Year == 1960)
deathMean1960 <- sum(mydata1960$Total*mydata1960$Age)/sum(mydata1960$Total)
deathMean1960 <- round(deathMean1960, digits=2)
deathMean1960 <- format(deathMean1960, decimal.mark = ',')
#Année1980
mydata1980 <- subset(mydata, Year == 1980)
deathMean1980 <- sum(mydata1980$Total*mydata1980$Age)/sum(mydata1980$Total)
deathMean1980 <- round(deathMean1980, digits=2)
deathMean1980 <- format(deathMean1980, decimal.mark = ',')
#Année1990
mydata1990 <- subset(mydata, Year == 1990)
deathMean1990 <- sum(mydata1990$Total*mydata1990$Age)/sum(mydata1990$Total)
deathMean1990 <- round(deathMean1990, digits=2)
deathMean1990 <- format(deathMean1990, decimal.mark = ',')
# 8 Calculez la probabilite de mourir avant la première année de vie pour
# quelqu’un qui est née en 1899 et #comparez-la avec celle de ceux qui sont
# nees en 1990.
mydata1899 <- subset(mydata, Year == 1899)
#probabilité pour l'année 1899
probaDeathBefore1in1899 <- (mydata1899[mydata1899$Age == 0,'Total']/sum(mydata1899$Total))*100
probaDeathBefore1in1899 <- round(probaDeathBefore1in1899, digits=2)
probaDeathBefore1in1899 <- format(probaDeathBefore1in1899, decimal.mark = ',')
probaDeathBefore1in1899 <- paste(probaDeathBefore1in1899,'%')
#probabilité pour l'année 1990
probaDeathBefore1in1990 <- (mydata1990[mydata1990$Age == 0,'Total']/sum(mydata1990$Total))*100
probaDeathBefore1in1990 <- round(probaDeathBefore1in1990, digits=2)
probaDeathBefore1in1990 <- format(probaDeathBefore1in1990, decimal.mark = ',')
probaDeathBefore1in1990 <- paste(probaDeathBefore1in1990,'%')
# On constate que la probabilité de mourir avant sa première année de vie en 1899
# est beaucoup plus élevée qu'en 1990, 17,5% contre 1,06%.
library(help="graphics")
install.packages("ggplot2")
library(ggplot2)
# EXERCICE 2
# 1.Dessinez un diagramme a bande qui montre le nombre de morts en 1900 par rapport a leur age.
# 2.Ajoutez a votre diagramme le titre ”Morts en France en 1900”.
# 3. Ajoutez a ce diagramme une légende qui reporte en abscisse les ages et ordonnées le nombre de morts.
barplot(height = mydata1900$Total,
names=mydata1900$Age,
xlab="Ages",
ylab="Nombre de morts",
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
#4. Dessinez un diagramme a bande qui montre une comparaison entre les morts en France en 1900 et 1990
# par rapport a leur age. Ajoutez aussi une legende.
mydataplot <- subset(mydata, Year == 1900 | Year== 1990 )
mydataplot$Year <- as.factor(mydataplot$Year)
ggplot(mydataplot, aes(x=Age, y=Total, fill=Year))+geom_bar(stat="identity", position="dodge") +theme(axis.text.x = element_text(angle = 90))+
ggtitle("Comparaison des morts entre 1900 et 1990 par âge")
#5
Age <- c(mydata1899$Age)
mydata.difference19001990 <- data.frame(Age)
mydata.difference19001990$Difference <- mydata1900[mydata1900$Age==mydata.difference19001990$Age,'Total']-mydata1990[mydata1990$Age==mydata.difference19001990$Age,'Total']
barplot(height = mydatatest$Difference,
names=mydatatest$Age,
xlab="Ages",
ylab="Morts",
col = "green",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990")
install.packages("ggplot2")
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "green",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990")
mydata.difference19001990 <- subset(mydata.difference19001990, Age>1)
View(mydata.difference19001990)
# EXERCICE 1
#2.Charger la base dans RStudio et la memoriser dans la variable ´ mydata
mydata <- read.csv('data/deaths-france-1899-1995.csv',TRUE,sep = ";")
#4.Calculer le nombre total de morts enregistres dans la base.
totalDeath <- sum(mydata$Total)
#5. Calculez le nombre total de morts en 1900.
totalDeath_in_1900 <- sum(mydata[mydata$Year == '1900', 'Total'])
# 6. Calculez la moyenne d’age des morts en 1900, 1943, 1960, 1980 et 1990.
# 7. Modifiez votre programme de maniere à que les espérances affichées soient
# arrondies à deux décimales après la virgule et changez le point ( point décimal
# en notation anglaise) avec une virgule ( point décimal en français )
# On veut regrouper la colonne Age1 et Age2 et se débarraser des "na"
# On enlève les na de mydata et on les remplace par 0
mydata[is.na(mydata)] <- 0
# On multiplie ensuite age1 par 10 et on y ajoute Age2 pour avoir l'age
# ex : Age1 = 4 et Age2 = 3  => 4x10+3 = 43
# on affiche ce résultat dans une nouvelle colonne Age
mydata$Age <- mydata$Age1*10+mydata$Age2
# on retire ensuite les colonnes Age1 et Age2
mydata = subset(mydata,select = -c(Age1,Age2))
# Calcul des moyenne d'âge des morts pour les années 1900, 1943, 1960, 1980, 1990
# On utilise mydata pour créer des nouvelles dataframe avec seulement les résultats
# des années correspondantes et on calcule ensuite la moyenne pour chaque année
#Année1900
mydata1900 <- subset(mydata, Year == 1900)
deathMean1900 <- sum(mydata1900$Total*mydata1900$Age)/totalDeath_in_1900
deathMean1900 <- round(deathMean1900, digits=2)
deathMean1900 <- format(deathMean1900, decimal.mark = ',')
#Année1943
mydata1943 <- subset(mydata, Year == 1943)
deathMean1943 <- sum(mydata1943$Total*mydata1943$Age)/sum(mydata1943$Total)
deathMean1943 <- round(deathMean1943, digits=2)
deathMean1943 <- format(deathMean1943, decimal.mark = ',')
#Année1960
mydata1960 <- subset(mydata, Year == 1960)
deathMean1960 <- sum(mydata1960$Total*mydata1960$Age)/sum(mydata1960$Total)
deathMean1960 <- round(deathMean1960, digits=2)
deathMean1960 <- format(deathMean1960, decimal.mark = ',')
#Année1980
mydata1980 <- subset(mydata, Year == 1980)
deathMean1980 <- sum(mydata1980$Total*mydata1980$Age)/sum(mydata1980$Total)
deathMean1980 <- round(deathMean1980, digits=2)
deathMean1980 <- format(deathMean1980, decimal.mark = ',')
#Année1990
mydata1990 <- subset(mydata, Year == 1990)
deathMean1990 <- sum(mydata1990$Total*mydata1990$Age)/sum(mydata1990$Total)
deathMean1990 <- round(deathMean1990, digits=2)
deathMean1990 <- format(deathMean1990, decimal.mark = ',')
# 8 Calculez la probabilite de mourir avant la première année de vie pour
# quelqu’un qui est née en 1899 et #comparez-la avec celle de ceux qui sont
# nees en 1990.
mydata1899 <- subset(mydata, Year == 1899)
#probabilité pour l'année 1899
probaDeathBefore1in1899 <- (mydata1899[mydata1899$Age == 0,'Total']/sum(mydata1899$Total))*100
probaDeathBefore1in1899 <- round(probaDeathBefore1in1899, digits=2)
probaDeathBefore1in1899 <- format(probaDeathBefore1in1899, decimal.mark = ',')
probaDeathBefore1in1899 <- paste(probaDeathBefore1in1899,'%')
#probabilité pour l'année 1990
probaDeathBefore1in1990 <- (mydata1990[mydata1990$Age == 0,'Total']/sum(mydata1990$Total))*100
probaDeathBefore1in1990 <- round(probaDeathBefore1in1990, digits=2)
probaDeathBefore1in1990 <- format(probaDeathBefore1in1990, decimal.mark = ',')
probaDeathBefore1in1990 <- paste(probaDeathBefore1in1990,'%')
# On constate que la probabilité de mourir avant sa première année de vie en 1899
# est beaucoup plus élevée qu'en 1990, 17,5% contre 1,06%.
library(help="graphics")
install.packages("ggplot2")
library(ggplot2)
# EXERCICE 2
# 1.Dessinez un diagramme a bande qui montre le nombre de morts en 1900 par rapport a leur age.
# 2.Ajoutez a votre diagramme le titre ”Morts en France en 1900”.
# 3. Ajoutez a ce diagramme une légende qui reporte en abscisse les ages et ordonnées le nombre de morts.
barplot(height = mydata1900$Total,
names=mydata1900$Age,
xlab="Ages",
ylab="Nombre de morts",
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
# 4. Dessinez un diagramme a bande qui montre une comparaison entre les morts en France en 1900 et 1990
# par rapport a leur age. Ajoutez aussi une legende.
mydataplot <- subset(mydata, Year == 1900 | Year== 1990 )
mydataplot$Year <- as.factor(mydataplot$Year)
ggplot(mydataplot, aes(x=Age, y=Total, fill=Year))+geom_bar(stat="identity", position="dodge") +theme(axis.text.x = element_text(angle = 90))+
ggtitle("Comparaison des morts entre 1900 et 1990 par âge")
# 5.A présent, afin de mieux apprécier les différences entre les deux années en question,
# on souhaite afficher seulement les différences relatives. Colorez aussi les bandes en vert.
Age <- c(mydata1899$Age)
mydata.difference19001990 <- data.frame(Age)
mydata.difference19001990$Difference <- mydata1900[mydata1900$Age==mydata.difference19001990$Age,'Total']-mydata1990[mydata1990$Age==mydata.difference19001990$Age,'Total']
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "green",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990")
# 6.Si du diagramme précédent on se rend bien compte qu’il y a beaucoup de différence entre les deux
# années concernant ceux qui sont morts pendant la première année de vie. Justement cette grosse différence
# rend compliqué l’affichage car toutes les autres différences sont considérablement plus petites. Du coup, ´
# essayez d’afficher le meme diagramme que précèdemment mais en excluant la première année.
# Que remarquez-vous ?
mydata.difference19001990 <- subset(mydata.difference19001990, Age>0)
install.packages("ggplot2")
View(mydata.difference19001990)
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "blue",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990 sans la première année")
mydata.difference19001990 <- subset(mydata.difference19001990, Age>10)
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "yellow",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990 sans les 10 premières années")
deathMean1900.ex2 <- sum(mydata1900.ex2$Total*mydata1900.ex2$Age)/sum(mydata1900.ex2$Total)
mydata1900.ex2 <- subset(mydata1900, Age>10)
deathMean1900.ex2 <- sum(mydata1900.ex2$Total*mydata1900.ex2$Age)/sum(mydata1900.ex2$Total)
deathMean1900.ex2 <- round(deathMean1900.ex2, digits=2)
deathMean1900.ex2 <- format(deathMean1900.ex2, decimal.mark = ',')
# 1943
# On subset et on enlève les 10 premières années
mydata1943.ex2 <- subset(mydata1943, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1943.ex2 <- sum(mydata1943.ex2$Total*mydata1943.ex2$Age)/sum(mydata1943.ex2$Total)
deathMean1943.ex2 <- round(deathMean1943.ex2, digits=2)
deathMean1943.ex2 <- format(deathMean1943.ex2, decimal.mark = ',')
# 1960
# On subset et on enlève les 10 premières années
mydata1960.ex2 <- subset(mydata1960, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1960.ex2 <- sum(mydata1960.ex2$Total*mydata1960.ex2$Age)/sum(mydata1960.ex2$Total)
deathMean1960.ex2 <- round(deathMean1960.ex2, digits=2)
deathMean1960.ex2 <- format(deathMean1960.ex2, decimal.mark = ',')
# 1980
# On subset et on enlève les 10 premières années
mydata1980.ex2 <- subset(mydata1980, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1980.ex2 <- sum(mydata1980.ex2$Total*mydata1980.ex2$Age)/sum(mydata1980.ex2$Total)
deathMean1980.ex2 <- round(deathMean1980.ex2, digits=2)
deathMean1980.ex2 <- format(deathMean1980.ex2, decimal.mark = ',')
# 1990
# On subset et on enlève les 10 premières années
mydata1990.ex2 <- subset(mydata1990, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1990.ex2 <- sum(mydata1990.ex2$Total*mydata1990.ex2$Age)/sum(mydata1990.ex2$Total)
deathMean1990.ex2 <- round(deathMean1990.ex2, digits=2)
deathMean1990.ex2 <- format(deathMean1990.ex2, decimal.mark = ',')
# EXERCICE 1
#2.Charger la base dans RStudio et la memoriser dans la variable ´ mydata
mydata <- read.csv('data/deaths-france-1899-1995.csv',TRUE,sep = ";")
#4.Calculer le nombre total de morts enregistres dans la base.
totalDeath <- sum(mydata$Total)
#5. Calculez le nombre total de morts en 1900.
totalDeath_in_1900 <- sum(mydata[mydata$Year == '1900', 'Total'])
# 6. Calculez la moyenne d’age des morts en 1900, 1943, 1960, 1980 et 1990.
# 7. Modifiez votre programme de maniere à que les espérances affichées soient
# arrondies à deux décimales après la virgule et changez le point ( point décimal
# en notation anglaise) avec une virgule ( point décimal en français )
# On veut regrouper la colonne Age1 et Age2 et se débarraser des "na"
# On enlève les na de mydata et on les remplace par 0
mydata[is.na(mydata)] <- 0
# On multiplie ensuite age1 par 10 et on y ajoute Age2 pour avoir l'age
# ex : Age1 = 4 et Age2 = 3  => 4x10+3 = 43
# on affiche ce résultat dans une nouvelle colonne Age
mydata$Age <- mydata$Age1*10+mydata$Age2
# on retire ensuite les colonnes Age1 et Age2
mydata = subset(mydata,select = -c(Age1,Age2))
# Calcul des moyenne d'âge des morts pour les années 1900, 1943, 1960, 1980, 1990
# On utilise mydata pour créer des nouvelles dataframe avec seulement les résultats
# des années correspondantes et on calcule ensuite la moyenne pour chaque année
# Année1900
mydata1900 <- subset(mydata, Year == 1900)
deathMean1900 <- sum(mydata1900$Total*mydata1900$Age)/totalDeath_in_1900
deathMean1900 <- round(deathMean1900, digits=2)
deathMean1900 <- format(deathMean1900, decimal.mark = ',')
# Année1943
mydata1943 <- subset(mydata, Year == 1943)
deathMean1943 <- sum(mydata1943$Total*mydata1943$Age)/sum(mydata1943$Total)
deathMean1943 <- round(deathMean1943, digits=2)
deathMean1943 <- format(deathMean1943, decimal.mark = ',')
# Année1960
mydata1960 <- subset(mydata, Year == 1960)
deathMean1960 <- sum(mydata1960$Total*mydata1960$Age)/sum(mydata1960$Total)
deathMean1960 <- round(deathMean1960, digits=2)
deathMean1960 <- format(deathMean1960, decimal.mark = ',')
# Année1980
mydata1980 <- subset(mydata, Year == 1980)
deathMean1980 <- sum(mydata1980$Total*mydata1980$Age)/sum(mydata1980$Total)
deathMean1980 <- round(deathMean1980, digits=2)
deathMean1980 <- format(deathMean1980, decimal.mark = ',')
# Année1990
mydata1990 <- subset(mydata, Year == 1990)
deathMean1990 <- sum(mydata1990$Total*mydata1990$Age)/sum(mydata1990$Total)
deathMean1990 <- round(deathMean1990, digits=2)
deathMean1990 <- format(deathMean1990, decimal.mark = ',')
# 8 Calculez la probabilite de mourir avant la première année de vie pour
# quelqu’un qui est née en 1899 et #comparez-la avec celle de ceux qui sont
# nees en 1990.
mydata1899 <- subset(mydata, Year == 1899)
# probabilité pour l'année 1899
probaDeathBefore1in1899 <- (mydata1899[mydata1899$Age == 0,'Total']/sum(mydata1899$Total))*100
probaDeathBefore1in1899 <- round(probaDeathBefore1in1899, digits=2)
probaDeathBefore1in1899 <- format(probaDeathBefore1in1899, decimal.mark = ',')
probaDeathBefore1in1899 <- paste(probaDeathBefore1in1899,'%')
# probabilité pour l'année 1990
probaDeathBefore1in1990 <- (mydata1990[mydata1990$Age == 0,'Total']/sum(mydata1990$Total))*100
probaDeathBefore1in1990 <- round(probaDeathBefore1in1990, digits=2)
probaDeathBefore1in1990 <- format(probaDeathBefore1in1990, decimal.mark = ',')
probaDeathBefore1in1990 <- paste(probaDeathBefore1in1990,'%')
# On constate que la probabilité de mourir avant sa première année de vie en 1899
# est beaucoup plus élevée qu'en 1990, 17,5% contre 1,06%.
library(help="graphics")
install.packages("ggplot2")
library(ggplot2)
# EXERCICE 2
# 1.Dessinez un diagramme a bande qui montre le nombre de morts en 1900 par rapport a leur age.
# 2.Ajoutez a votre diagramme le titre ”Morts en France en 1900”.
# 3. Ajoutez a ce diagramme une légende qui reporte en abscisse les ages et ordonnées le nombre de morts.
barplot(height = mydata1900$Total,
names=mydata1900$Age,
xlab="Ages",
ylab="Nombre de morts",
col.main="red",
col.lab="blue",
col.sub="black",
main= "Morts en France en 1900")
# 4. Dessinez un diagramme a bande qui montre une comparaison entre les morts en France en 1900 et 1990
# par rapport a leur age. Ajoutez aussi une legende.
mydataplot <- subset(mydata, Year == 1900 | Year== 1990 )
mydataplot$Year <- as.factor(mydataplot$Year)
ggplot(mydataplot, aes(x=Age, y=Total, fill=Year))+geom_bar(stat="identity", position="dodge") +theme(axis.text.x = element_text(angle = 90))+
ggtitle("Comparaison des morts entre 1900 et 1990 par âge")
# 5.A présent, afin de mieux apprécier les différences entre les deux années en question,
# on souhaite afficher seulement les différences relatives. Colorez aussi les bandes en vert.
Age <- c(mydata1899$Age)
mydata.difference19001990 <- data.frame(Age)
mydata.difference19001990$Difference <- mydata1900[mydata1900$Age==mydata.difference19001990$Age,'Total']-mydata1990[mydata1990$Age==mydata.difference19001990$Age,'Total']
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "green",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990")
# 6.Si du diagramme précédent on se rend bien compte qu’il y a beaucoup de différence entre les deux
# années concernant ceux qui sont morts pendant la première année de vie. Justement cette grosse différence
# rend compliqué l’affichage car toutes les autres différences sont considérablement plus petites. Du coup, ´
# essayez d’afficher le meme diagramme que précèdemment mais en excluant la première année.
# Que remarquez-vous ?
# On subset la dataframe pour garder que les différences quand l'age est strictement plus grand que 0
mydata.difference19001990 <- subset(mydata.difference19001990, Age>0)
# On affiche de nouveau le diagramme avec les nouvelles données
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "blue",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990 sans la première année")
# On remarque qu'il y a beaucoup plus de mort en 1900 qu'en 1990 jusqu'à environ 75 ans, puis la tendance s'inverse
# mais c'est surtout parce qu'en 1900 les gens ne vivaient pas si vieux.
# 7. Pour chercher a vérifier l’intuition précèdente, reproduisez le même graphe qu’au point précèdent mais ´
# en excluant les 10 premieres années, puis cherchez a mettre en abscisse les années de manière a mieux
# informer le lecteur. En un deuxieme temps, re-calculez aussi les espérances, toujours en excluant la m ´ eme ˆ
# plage d’années.
# On subset de nouveau la dataframe pour garder les différences quand l'age est strictement supérieur à 10.
mydata.difference19001990 <- subset(mydata.difference19001990, Age>10)
# On affiche de nouveau le diagramme avec les nouvelles données
barplot(height = mydata.difference19001990$Difference,
names=mydata.difference19001990$Age,
xlab="Ages",
ylab="Morts",
col = "yellow",
col.main="red",
col.lab="red",
col.sub="red",
main= "Différence des morts en France entre 1900 et 1990 sans les 10 premières années")
# On remarque clairement que la tendance s'inverse après 75 ans, il y a donc plus de morts
# en 1900 qu'en 1990 jusqu'à 75 ans, puis cela s'inverse.
# On recalcule les espérances en excluant les 10 premières années, on va donc subset
# les dataframes crées pour la question 6 de l'exercice 1.
# 1900
# On subset et on enlève les 10 premières années
mydata1900.ex2 <- subset(mydata1900, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1900.ex2 <- sum(mydata1900.ex2$Total*mydata1900.ex2$Age)/sum(mydata1900.ex2$Total)
deathMean1900.ex2 <- round(deathMean1900.ex2, digits=2)
deathMean1900.ex2 <- format(deathMean1900.ex2, decimal.mark = ',')
# 1943
# On subset et on enlève les 10 premières années
mydata1943.ex2 <- subset(mydata1943, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1943.ex2 <- sum(mydata1943.ex2$Total*mydata1943.ex2$Age)/sum(mydata1943.ex2$Total)
deathMean1943.ex2 <- round(deathMean1943.ex2, digits=2)
deathMean1943.ex2 <- format(deathMean1943.ex2, decimal.mark = ',')
# 1960
# On subset et on enlève les 10 premières années
mydata1960.ex2 <- subset(mydata1960, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1960.ex2 <- sum(mydata1960.ex2$Total*mydata1960.ex2$Age)/sum(mydata1960.ex2$Total)
deathMean1960.ex2 <- round(deathMean1960.ex2, digits=2)
deathMean1960.ex2 <- format(deathMean1960.ex2, decimal.mark = ',')
# 1980
# On subset et on enlève les 10 premières années
mydata1980.ex2 <- subset(mydata1980, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1980.ex2 <- sum(mydata1980.ex2$Total*mydata1980.ex2$Age)/sum(mydata1980.ex2$Total)
deathMean1980.ex2 <- round(deathMean1980.ex2, digits=2)
deathMean1980.ex2 <- format(deathMean1980.ex2, decimal.mark = ',')
# 1990
# On subset et on enlève les 10 premières années
mydata1990.ex2 <- subset(mydata1990, Age>10)
# On calcule la nouvelle moyenne et on arrondi à 2 décimales après la virgule
deathMean1990.ex2 <- sum(mydata1990.ex2$Total*mydata1990.ex2$Age)/sum(mydata1990.ex2$Total)
deathMean1990.ex2 <- round(deathMean1990.ex2, digits=2)
deathMean1990.ex2 <- format(deathMean1990.ex2, decimal.mark = ',')
install.packages("ggplot2")
